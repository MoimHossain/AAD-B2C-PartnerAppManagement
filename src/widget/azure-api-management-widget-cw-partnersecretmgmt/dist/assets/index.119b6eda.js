import{u as g,r as c,j as i,F as f,a as e,c as S,W as N,S as v}from"./hooks.53bf0732.js";const m={backendUrl:"https://b2c-backend.wittyfield-afb7ce64.westeurope.azurecontainerapps.io/api"},p={convert:t=>{if(t===void 0)return"";try{var r=new Date(t);return r.toLocaleString()}catch(a){console.log(a)}return""}},u={list:async(t,r)=>{const a=`${m.backendUrl}${t}`;return(await fetch(a,{headers:{Authorization:r.token}})).json()},generate:async(t,r,a)=>{const l=`${m.backendUrl}${t}`;return(await fetch(l,{method:"POST",headers:{Authorization:r.token,"Content-Type":"application/json","xmh-apiVersion":`${r.apiVersion}`,"xmh-hostName":`${r.hostname}`,"xmh-managementApiUrl":`${r.managementApiUrl}`,"xmh-origin":`${r.origin}`,"xmh-userId":`${r.userId}`},body:JSON.stringify({displayName:a})})).json()}},k=()=>{const t=g(),[r,a]=c.exports.useState([]),[l,d]=c.exports.useState(""),s={width:200},o={backgroundColor:"#6B8DC6",width:300},h=()=>({managementApiUrl:t.managementApiUrl,apiVersion:t.apiVersion,token:t.token,userId:t.userId,hostname:t.parentLocation.hostname,origin:t.parentLocation.origin});c.exports.useEffect(()=>{setTimeout(async()=>{const n=await u.list("/list",h());a(n)},1)},[]);const y=async()=>{const n=await u.generate("/generate",h(),l);a(n),d("")};return i(f,{children:[e("h4",{children:"Partner Secret Management"}),r.map((n,b)=>e("div",{className:"form-group",children:i("table",{children:[i("tr",{children:[e("td",{style:s,children:e("label",{className:"form-label",children:"Client ID: "})}),e("td",{style:o,children:e("b",{children:n.clientId})}),e("td",{style:s,children:e("label",{className:"form-label",children:"Description: "})}),e("td",{style:o,children:e("b",{children:n.displayName})})]}),i("tr",{children:[e("td",{style:s,children:e("label",{className:"form-label",children:"Start time: "})}),e("td",{style:o,children:e("b",{children:p.convert(n.startDateTime)})}),e("td",{style:s,children:e("label",{className:"form-label",children:"End time: "})}),e("td",{style:o,children:e("b",{children:p.convert(n.endDateTime)})})]}),n.clientSecret&&i("tr",{children:[e("td",{style:s,children:e("label",{className:"form-label",children:"Client Secret: "})}),e("td",{style:o,children:e("b",{children:n.clientSecret})}),e("td",{style:s,colSpan:2,children:"Please copy the secret, you won't see it again!"})]})]})},b)),e("h4",{children:"Create New secret"}),i("div",{className:"form-group",children:[e("label",{htmlFor:"description",className:"form-label",children:"Description"}),e("input",{type:"text",className:"form-control",name:"description",placeholder:"Please enter description",defaultValue:"",value:l,onChange:n=>d(n.target.value)})]}),e("div",{className:"form-group",children:e("button",{type:"button",onClick:y,className:"button button-primary",children:"Generate"})})]})},w=S(document.getElementById("root"));w.render(e(c.exports.StrictMode,{children:e(N,{children:e(v,{targetModule:"app",children:e(k,{})})})}));
